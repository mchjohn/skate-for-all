<% if(isLogged != undefined) { %>
  <%- include ('partials/headerAdmin') %>
<% } else { %>
  <%- include ('partials/header') %>
<% } %>

<div class="container-oneNews">
  <div class="oneNews">
    <h1 class="news_title"><%= article.title %></h1>
    <span class="author_news">por <%= article.author %></span>
    <div class="hr"></div>

    <% var data = article.createdAt %>
    <% var dia = data.getDate().toString() %>
    <% var diaF = (dia.length == 1) ? '0'+dia : dia %>
    <% var mes = (data.getMonth()+1).toString() %>
    <% var mesF = (mes.length == 1) ? '0'+mes : mes %>
    <% var anoF = data.getFullYear() %>
    <span class="criation_date"><%= diaF+"/"+mesF+"/"+anoF %></span>

    <p class="news">
      <%- article.body %>
    </p>
  </div>
</div>

    <!-- slideshow -->
    <div class="wrap">
      <div id="arrow-left" class="arrow"></div>
      <div id="slider">
        <div class="slide slide1">
          <div class="slide-content">
            <img src="<%= article.url1 %>" style="width:70%">
          </div>
        </div>
        <div class="slide slide2">
          <div class="slide-content">
            <img src="<%= article.url2 %>" style="width:70%">
          </div>
        </div>
        <div class="slide slide3">
          <div class="slide-content">
            <img src="<%= article.url3 %>" style="width:80%">
          </div>
        </div>
        <div class="slide slide3">
          <div class="slide-content">
            <img src="<%= article.url4 %>" style="width:80%">
          </div>
        </div>
        <div class="slide slide3">
          <div class="slide-content">
            <img src="<%= article.url5 %>" style="width:80%">
          </div>
        </div>
        <div class="slide slide3">
          <div class="slide-content">
            <img src="<%= article.url6 %>" style="width:80%">
          </div>
        </div>
        <div class="slide slide3">
          <div class="slide-content">
            <img src="<%= article.url7 %>" style="width:80%">
          </div>
        </div>
        <div class="slide slide3">
          <div class="slide-content">
            <img src="<%= article.url8 %>" style="width:80%">
          </div>
        </div>
        <div class="slide slide3">
          <div class="slide-content">
            <img src="<%= article.url9 %>" style="width:80%">
          </div>
        </div>
        <div class="slide slide3">
          <div class="slide-content">
            <img src="<%= article.url10 %>" style="width:80%">
          </div>
        </div>
      </div>
      <div id="arrow-right" class="arrow"></div>
    </div>
    <!-- slideshow -->

<script>
  var sliderImagesAll = document.querySelectorAll(".slide"),
  arrowLeft = document.querySelector("#arrow-left"),
  arrowRight = document.querySelector("#arrow-right"),
  current = 0;
  sliderImages = [];

  
  for(var i =0; i < sliderImagesAll.length; i++) {
    if(sliderImagesAll[i].firstElementChild.firstElementChild.attributes.src.value) {
      sliderImages.push(sliderImagesAll[i]);
    }
  }
  console.log(sliderImages)
  
  // Clear all images
  function reset() {
    for (var i = 0; i < sliderImages.length; i++) {
      sliderImages[i].style.display = "none";
    }
  }
  
  // Init slider
  function startSlide() {
    reset();
    sliderImages[0].style.display = "block";
  }
  
  // Show prev
  function slideLeft() {
    reset();
    sliderImages[current - 1].style.display = "block";
    current--;
  }
  
  // Show next
  function slideRight() {
    reset();
    sliderImages[current + 1].style.display = "block";
    current++;
  }
  
  // Left arrow click
  arrowLeft.addEventListener("click", function() {
    if (current === 0) {
      current = sliderImages.length;
    }
    slideLeft();
  });
  
  // Right arrow click
  arrowRight.addEventListener("click", function() {
    if (current === sliderImages.length - 1) {
      current = -1;
    }
    slideRight();
  });
  
  startSlide();
  
</script>

<%- include ('partials/footer') %>